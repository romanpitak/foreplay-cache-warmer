<!DOCTYPE html>
<html>
  <head>
    <title>Cache warmer</title>
    <style>
iframe {
    width: 100%
}

table tbody tr {
    background-color: palegreen;
}

table tbody tr.loading {
    background-color: lightsalmon;
}

table tbody tr:hover {
    background-color: #ffff00;
}

    </style>
  </head>
</html>
<body>
  <button id="asdf">/sitemap.xml</button>
  <table>
    <caption>Results</caption>
    <thead>
      <tr>
        <th>url</th>
        <th>time</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <iframe class="loader"></iframe>
  <iframe class="loader"></iframe>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script>(function() {
  var urls;

  urls = [];

  jQuery(function() {
    jQuery('iframe').load(function(event) {
      var element, out, startTime, tr, url;
      element = jQuery(event.target);
      url = urls.shift();
      startTime = Date.now();
      out = jQuery('table tbody');
      out.append(jQuery('<tr id="' + startTime + '" class="loading"><td>' + url + '</td><td id="time"></td></li>'));
      if ('undefined' !== typeof element.data('start')) {
        tr = jQuery('tr#' + element.data('start'), out);
        jQuery('#time', tr).text((startTime - element.data('start')) / 1000);
        tr.removeClass('loading');
      }
      element.attr('src', urls.shift());
      return element.data('start', startTime);
    });
    return jQuery('#asdf').click(function() {
      jQuery.get('/sitemap.xml', function(data) {
        jQuery('urlset url loc', data).each(function(i, e) {
          return urls.push(jQuery(e).html());
        });
        return jQuery('iframe').each(function(i, e) {
          return jQuery(e).load();
        });
      });
      return false;
    });
  });

}).call(this);

  </script>
</body>